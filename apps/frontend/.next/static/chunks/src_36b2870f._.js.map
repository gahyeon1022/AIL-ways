{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Users/gahyoi/Desktop/AIL-ways/apps/frontend/src/components/LocalSignupModal.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState } from \"react\";\nimport { motion, AnimatePresence } from \"framer-motion\";\n\ntype Props = { //부모 컴포넌트에서 전달 받음. 모달 열렸는지\n  open: boolean;\n  onClose: () => void;\n};\n\nfunction formatNow(): string { //현재 시간을 문자열로 변환하는\n  const d = new Date();\n  const pad = (n: number) => String(n).padStart(2, \"0\");\n  return `${d.getFullYear()}-${pad(d.getMonth() + 1)}-${pad(d.getDate())} ${pad(\n    d.getHours()\n  )}-${pad(d.getMinutes())}-${pad(d.getSeconds())}`;\n}\n\nexport default function LocalSignupModal({ open, onClose }: Props) { //회원가입 입력값 관리\n  const [email, setEmail] = useState(\"\");\n  const [userName, setUserName] = useState(\"\");\n  const [userId, setUserId] = useState(\"\");\n  const [userPw, setUserPw] = useState(\"\");\n  const [tos, setTos] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const [createdAt, setCreatedAt] = useState<string>(\"\"); // 성공 시점에 채움\n\n\n  async function onSubmit(e: React.FormEvent) { //폼 제출될때 호출되는 이벤트 핸들러\n  e.preventDefault(); //새로고침 방지\n    if (!tos) {\n      alert(\"약관(TOS)에 동의해 주세요.\");\n      return;\n    }\n    setLoading(true);  //서버로 보낼 요청 생성\n    try {\n      const payload = {\n        email,\n        userName,\n        userId,\n        userPw,        // 서버에서 해시 처리\n        creadtedAt: createdAt, // 요청하신 키 철자 그대로 사용\n        consents: tos ? [\"TOS\"] : [],\n      };\n      {/* api 요청 */}\n      const res = await fetch(\"api/auth/signup\", { //api경로로 수정해주세요\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify(payload),\n        credentials: \"include\",\n      });\n\n      if (!res.ok) throw new Error(\"회원가입 실패\");\n      const now = formatNow();\n      setCreatedAt(now);\n      alert(`회원가입 성공!\\n생성 시각: ${now}`);\n      onClose();\n    } catch (err: any) {\n      alert(err.message ?? \"문제가 발생했습니다.\");\n    } finally {\n      setLoading(false);\n    }\n  }\n\n  return (\n    <AnimatePresence>\n      {open && (\n        <motion.div\n          className=\"fixed inset-0 z-50\"\n          initial={{ opacity: 0 }}\n          animate={{ opacity: 1 }}\n          exit={{ opacity: 0 }}\n        >\n          {/* Backdrop */}\n          <button\n            onClick={onClose}\n            className=\"absolute inset-0 bg-black/40\"\n          />\n\n          {/* Panel */}\n          <motion.div\n            initial={{ y: -24, opacity: 0 }}\n            animate={{ y: 0, opacity: 1 }}\n            exit={{ y: -24, opacity: 0 }}\n            transition={{ type: \"spring\", stiffness: 280, damping: 24 }}\n            className=\"absolute left-1/2 top-10 w-[92vw] max-w-md -translate-x-1/2\n                       rounded-2xl bg-white/90 backdrop-blur p-6 shadow-2xl\"\n            role=\"dialog\"\n            aria-modal=\"true\"\n          >\n            <div className=\"mb-4 flex items-center justify-between\">\n              <h2 className=\"text-lg font-semibold text-gray-800\">이메일로 회원가입</h2>\n              <button\n                onClick={onClose}\n                className=\"rounded p-1 text-gray-500 hover:bg-gray-100\"\n              >\n                ✕\n              </button>\n            </div>\n\n            <form onSubmit={onSubmit} className=\"grid gap-3 text-left\">\n              {/* userName */}\n              <label className=\"text-left text-sm font-medium text-gray-700\">\n                이름\n                <input\n                  type=\"text\"\n                  required\n                  value={userName}\n                  onChange={(e) => setUserName(e.target.value)}\n                  placeholder=\"이름을 입력해주세요.\"\n                  className=\"mt-1 w-full rounded-lg border border-gray-300 px-3 py-2 outline-none focus:ring-2 focus:ring-indigo-500\"\n                />\n              </label>\n\n              {/* userId */}\n              <label className=\"text-left text-sm font-medium text-gray-700\">\n                아이디\n                <input\n                  type=\"text\"\n                  required\n                  value={userId}\n                  onChange={(e) => setUserId(e.target.value)}\n                  placeholder=\"아이디를 입력해주세요.\"\n                  className=\"mt-1 w-full rounded-lg border border-gray-300 px-3 py-2 outline-none focus:ring-2 focus:ring-indigo-500\"\n                />\n              </label>\n\n              {/* userPw */}\n              <label className=\"text-left text-sm font-medium text-gray-700\">\n                비밀번호\n                <input\n                  type=\"password\"\n                  required\n                  value={userPw}\n                  onChange={(e) => setUserPw(e.target.value)}\n                  placeholder=\"••••••••\"\n                  className=\"mt-1 w-full rounded-lg border border-gray-300 px-3 py-2 outline-none focus:ring-2 focus:ring-indigo-500\"\n                />\n              </label>\n\n              {/* email */}\n              <label className=\"text-left text-sm font-medium text-gray-700\">\n                이메일\n                <div className=\"mt-1 flex gap-2\">\n                  <input\n                    type=\"email\"\n                    required\n                    value={email}\n                    onChange={(e) => setEmail(e.target.value)}\n                    placeholder=\"이메일을 입력해주세요.\"\n                    className=\"flex-1 rounded-lg border border-gray-300 px-3 py-2 outline-none focus:ring-2 focus:ring-indigo-500\"\n                  />\n                  <button\n                    type=\"button\"\n                    className=\"shrink-0 rounded-lg border border-gray-300 px-3 py-2 text-sm hover:bg-gray-50\"\n                  >\n                    인증하기\n                  </button>\n                </div>\n              </label>\n\n\n              {/* consents */}\n              <label className=\"mt-2 flex items-center gap-2 text-sm text-gray-700\">\n                <input\n                  type=\"checkbox\"\n                  checked={tos}\n                  onChange={(e) => setTos(e.target.checked)}\n                  className=\"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500\"\n                />\n                (필수) 약관 동의\n              </label>\n\n              <button\n                type=\"submit\"\n                disabled={loading}\n                className=\"mt-3 w-full rounded-xl bg-indigo-600 px-4 py-3 font-medium text-white hover:bg-indigo-700 disabled:cursor-not-allowed disabled:opacity-60\"\n              >\n                {loading ? \"처리 중...\" : \"가입하기\"}\n              </button>\n            </form>\n          </motion.div>\n        </motion.div>\n      )}\n    </AnimatePresence>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 319, "column": 0}, "map": {"version":3,"sources":["file:///Users/gahyoi/Desktop/AIL-ways/apps/frontend/src/app/signup/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState } from \"react\";\nimport Link from \"next/link\";\nimport Image from \"next/image\";\nimport LocalSignupModal from \"@/components/LocalSignupModal\";\n\nexport default function SignupPage() {\n    const [open, setOpen] = useState(false);\n  return (\n    <div className=\"bg-white/70 p-8 rounded-2xl shadow-lg text-center w-full max-w-sm\">\n      <div className=\"grid gap-3\">\n        <Link\n          href=\"/auth/kakao\" // /api/auth/signin/kakao, 직접 구현이면 백엔드 시작점으로 변경\n          className=\"relative flex item-center w-full justify-center rounded-xl px-4 py-3 font-medium bg-[#FEE500] text-black hover:brightness-95 transition inline-block\">\n          <Image src=\"/kakao_logo.png\" alt=\"Kakao\" width={23} height={23} className=\"absolute left-5 top-3.5\"/>\n          <span className=\"leading-none\">카카오로 회원가입</span>\n        </Link>\n\n        <Link\n          href=\"/auth/google\" // /api/auth/signin/google 로 변경\n          className=\"relative flex item-center justify-center w-full rounded-xl px-4 py-3 font-medium bg-white text-gray-800 border border-gray-300 hover:bg-gray-50 transition inline-block\">\n          <Image src=\"/google_logo.png\" alt=\"google\" width={20} height={20} className=\"absolute left-5 top-4\"/>\n          <span className=\"leading-none\">구글로 회원가입</span>\n        </Link>\n\n         <button\n          onClick={() => setOpen(true)}\n          className=\"relative flex items-center justify-center w-full rounded-xl px-4 py-3 font-medium bg-indigo-500 text-white hover:bg-indigo-600 transition\"\n        >\n          <Image\n            src=\"/letter.png\"\n            alt=\"letter\"\n            width={23}\n            height={23}\n            className=\"absolute left-5 top-3\"\n          />\n          이메일로 회원가입\n        </button>\n      </div>\n       <LocalSignupModal open={open} onClose={() => setOpen(false)} />\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AACA;;;AALA;;;;;AAOe,SAAS;;IACpB,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACnC,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAI,WAAU;;kCACb,6LAAC,+JAAA,CAAA,UAAI;wBACH,MAAK;wBACL,WAAU;;0CACV,6LAAC,gIAAA,CAAA,UAAK;gCAAC,KAAI;gCAAkB,KAAI;gCAAQ,OAAO;gCAAI,QAAQ;gCAAI,WAAU;;;;;;0CAC1E,6LAAC;gCAAK,WAAU;0CAAe;;;;;;;;;;;;kCAGjC,6LAAC,+JAAA,CAAA,UAAI;wBACH,MAAK;wBACL,WAAU;;0CACV,6LAAC,gIAAA,CAAA,UAAK;gCAAC,KAAI;gCAAmB,KAAI;gCAAS,OAAO;gCAAI,QAAQ;gCAAI,WAAU;;;;;;0CAC5E,6LAAC;gCAAK,WAAU;0CAAe;;;;;;;;;;;;kCAGhC,6LAAC;wBACA,SAAS,IAAM,QAAQ;wBACvB,WAAU;;0CAEV,6LAAC,gIAAA,CAAA,UAAK;gCACJ,KAAI;gCACJ,KAAI;gCACJ,OAAO;gCACP,QAAQ;gCACR,WAAU;;;;;;4BACV;;;;;;;;;;;;;0BAIL,6LAAC,yIAAA,CAAA,UAAgB;gBAAC,MAAM;gBAAM,SAAS,IAAM,QAAQ;;;;;;;;;;;;AAG5D;GApCwB;KAAA","debugId":null}}]
}